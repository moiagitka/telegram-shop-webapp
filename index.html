<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TeleStore - Telegram WebApp –ú–∞–≥–∞–∑–∏–Ω</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <div id="app">
        <!-- Header -->
        <header class="header">
            <div class="container">
                <div class="header-content">
                    <div class="logo">
                        <h1>TeleStore</h1>
                    </div>
                    <div class="header-actions">
                        <button id="theme-toggle" class="btn btn--sm btn--outline">
                            <span class="theme-icon">üåô</span>
                        </button>
                        <button class="notification-btn">
                            <span class="notification-icon">üîî</span>
                            <span class="notification-badge">3</span>
                        </button>
                    </div>
                </div>
            </div>
        </header>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Loading Screen -->
            <div id="loading" class="loading-screen">
                <div class="loading-spinner"></div>
                <p>–ó–∞–≥—Ä—É–∑–∫–∞ –º–∞–≥–∞–∑–∏–Ω–∞...</p>
            </div>

            <!-- Home Page -->
            <div id="home-page" class="page active">
                <div class="container">
                    <!-- Search Bar -->
                    <div class="search-container">
                        <input type="text" class="form-control search-input" placeholder="–ü–æ–∏—Å–∫ —Ç–æ–≤–∞—Ä–æ–≤..." id="search-input">
                        <span class="search-icon">üîç</span>
                    </div>

                    <!-- Banner -->
                    <div class="banner">
                        <div class="banner-content">
                            <h2>–°–∫–∏–¥–∫–∏ –¥–æ 50%</h2>
                            <p>–ù–∞ –≤—Å—é –≤–µ—Ä—Ö–Ω—é—é –æ–¥–µ–∂–¥—É</p>
                        </div>
                    </div>

                    <!-- Latest Products -->
                    <section class="section">
                        <h3 class="section-title">–ü–æ—Å–ª–µ–¥–Ω–∏–µ –¥–æ–±–∞–≤–ª–µ–Ω–Ω—ã–µ —Ç–æ–≤–∞—Ä—ã</h3>
                        <div class="products-scroll" id="latest-products">
                            <!-- Products will be loaded here -->
                        </div>
                    </section>

                    <!-- Categories -->
                    <section class="section">
                        <h3 class="section-title">–ü–æ–ø—É–ª—è—Ä–Ω—ã–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏</h3>
                        <div class="categories-grid" id="categories-grid">
                            <!-- Categories will be loaded here -->
                        </div>
                    </section>
                </div>
            </div>

            <!-- Catalog Page -->
            <div id="catalog-page" class="page">
                <div class="container">
                    <!-- Category Filters -->
                    <div class="filters-container">
                        <div class="category-chips" id="category-chips">
                            <!-- Category filters will be loaded here -->
                        </div>
                        <div class="sort-container">
                            <select class="form-control" id="sort-select">
                                <option value="name">–ü–æ –Ω–∞–∑–≤–∞–Ω–∏—é</option>
                                <option value="price_asc">–ü–æ —Ü–µ–Ω–µ (–≤–æ–∑—Ä–∞—Å—Ç–∞–Ω–∏–µ)</option>
                                <option value="price_desc">–ü–æ —Ü–µ–Ω–µ (—É–±—ã–≤–∞–Ω–∏–µ)</option>
                                <option value="rating">–ü–æ —Ä–µ–π—Ç–∏–Ω–≥—É</option>
                            </select>
                        </div>
                    </div>

                    <!-- Products Grid -->
                    <div class="products-grid" id="products-grid">
                        <!-- Products will be loaded here -->
                    </div>
                </div>
            </div>

            <!-- Cart Page -->
            <div id="cart-page" class="page">
                <div class="container">
                    <h2 class="page-title">–ö–æ—Ä–∑–∏–Ω–∞</h2>
                    <div id="cart-content">
                        <!-- Cart items will be loaded here -->
                    </div>
                    <div id="cart-empty" class="empty-state">
                        <h3>–ö–æ—Ä–∑–∏–Ω–∞ –ø—É—Å—Ç–∞</h3>
                        <p>–î–æ–±–∞–≤—å—Ç–µ —Ç–æ–≤–∞—Ä—ã –∏–∑ –∫–∞—Ç–∞–ª–æ–≥–∞</p>
                        <button class="btn btn--primary" onclick="showPage('catalog')">–ü–µ—Ä–µ–π—Ç–∏ –≤ –∫–∞—Ç–∞–ª–æ–≥</button>
                    </div>
                </div>
            </div>

            <!-- Favorites Page -->
            <div id="favorites-page" class="page">
                <div class="container">
                    <h2 class="page-title">–ò–∑–±—Ä–∞–Ω–Ω–æ–µ</h2>
                    <div id="favorites-content">
                        <!-- Favorite items will be loaded here -->
                    </div>
                    <div id="favorites-empty" class="empty-state">
                        <h3>–ò–∑–±—Ä–∞–Ω–Ω–æ–µ –ø—É—Å—Ç–æ</h3>
                        <p>–î–æ–±–∞–≤—å—Ç–µ —Ç–æ–≤–∞—Ä—ã –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ</p>
                        <button class="btn btn--primary" onclick="showPage('catalog')">–ü–µ—Ä–µ–π—Ç–∏ –≤ –∫–∞—Ç–∞–ª–æ–≥</button>
                    </div>
                </div>
            </div>

            <!-- Profile Page -->
            <div id="profile-page" class="page">
                <div class="container">
                    <div class="profile-header">
                        <div class="profile-info">
                            <div class="avatar" id="user-avatar">–ò</div>
                            <div>
                                <h3 id="user-name">–ò–≤–∞–Ω –ü–µ—Ç—Ä–æ–≤</h3>
                                <p id="user-username">@ivan_petrov</p>
                            </div>
                        </div>
                        <button id="admin-btn" class="btn btn--primary btn--sm" style="display: none;">–ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å</button>
                    </div>

                    <div class="profile-cards">
                        <div class="card">
                            <div class="card__body">
                                <h4>–ë–∞–ª–∞–Ω—Å</h4>
                                <div class="balance">
                                    <span class="balance-amount" id="user-balance">2 500</span>
                                    <span class="currency">‚ÇΩ</span>
                                </div>
                            </div>
                        </div>

                        <div class="card">
                            <div class="card__body">
                                <h4>–ë–æ–Ω—É—Å—ã</h4>
                                <div class="bonus">
                                    <span class="bonus-amount" id="user-bonus">340</span>
                                    <span class="bonus-text">–±–∞–ª–ª–æ–≤</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="profile-section">
                        <h4>–ò—Å—Ç–æ—Ä–∏—è –∑–∞–∫–∞–∑–æ–≤</h4>
                        <div id="orders-history">
                            <!-- Order history will be loaded here -->
                        </div>
                    </div>
                </div>
            </div>

            <!-- Admin Page -->
            <div id="admin-page" class="page">
                <div class="container">
                    <h2 class="page-title">–ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å</h2>
                    
                    <div class="admin-tabs">
                        <button class="tab-btn active" data-tab="products">–¢–æ–≤–∞—Ä—ã</button>
                        <button class="tab-btn" data-tab="orders">–ó–∞–∫–∞–∑—ã</button>
                        <button class="tab-btn" data-tab="analytics">–ê–Ω–∞–ª–∏—Ç–∏–∫–∞</button>
                    </div>

                    <div id="admin-products" class="tab-content active">
                        <div class="admin-actions">
                            <button class="btn btn--primary" id="add-product-btn">–î–æ–±–∞–≤–∏—Ç—å —Ç–æ–≤–∞—Ä</button>
                        </div>
                        <div id="admin-products-list">
                            <!-- Admin products list will be loaded here -->
                        </div>
                    </div>

                    <div id="admin-orders" class="tab-content">
                        <div id="admin-orders-list">
                            <!-- Admin orders list will be loaded here -->
                        </div>
                    </div>

                    <div id="admin-analytics" class="tab-content">
                        <div class="analytics-grid">
                            <div class="card">
                                <div class="card__body">
                                    <h4>–û–±—â–∏–µ –ø—Ä–æ–¥–∞–∂–∏</h4>
                                    <div class="chart-container" style="position: relative; height: 300px;">
                                        <canvas id="sales-chart"></canvas>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Product Detail Page -->
            <div id="product-detail-page" class="page">
                <div class="container">
                    <button class="btn btn--outline back-btn" onclick="goBack()">‚Üê –ù–∞–∑–∞–¥</button>
                    <div id="product-detail-content">
                        <!-- Product detail will be loaded here -->
                    </div>
                </div>
            </div>

            <!-- Checkout Page -->
            <div id="checkout-page" class="page">
                <div class="container">
                    <h2 class="page-title">–û—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞</h2>
                    <form id="checkout-form">
                        <div class="form-group">
                            <label class="form-label">–§–ò–û</label>
                            <input type="text" class="form-control" id="checkout-name" required>
                        </div>
                        <div class="form-group">
                            <label class="form-label">–ù–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞</label>
                            <input type="tel" class="form-control" id="checkout-phone" required>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Telegram Username</label>
                            <input type="text" class="form-control" id="checkout-username" required>
                        </div>
                        <div class="form-group">
                            <label class="form-label">–ê–¥—Ä–µ—Å –¥–æ—Å—Ç–∞–≤–∫–∏</label>
                            <textarea class="form-control" id="checkout-address" rows="3" required></textarea>
                        </div>
                        <div class="form-group">
                            <label class="form-label">–°–∫—Ä–∏–Ω—à–æ—Ç –æ–ø–ª–∞—Ç—ã</label>
                            <input type="file" class="form-control" id="checkout-screenshot" accept="image/*" required>
                        </div>
                        <div class="checkout-total">
                            <h4>–ò—Ç–æ–≥–æ: <span id="checkout-total-amount">0</span> ‚ÇΩ</h4>
                        </div>
                        <button type="submit" class="btn btn--primary btn--full-width">–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –∑–∞–∫–∞–∑</button>
                    </form>
                </div>
            </div>
        </main>

        <!-- Bottom Navigation -->
        <nav class="bottom-nav">
            <button class="nav-item active" data-page="home">
                <span class="nav-icon">üè†</span>
                <span class="nav-label">–ì–ª–∞–≤–Ω–∞—è</span>
            </button>
            <button class="nav-item" data-page="catalog">
                <span class="nav-icon">üì±</span>
                <span class="nav-label">–ö–∞—Ç–∞–ª–æ–≥</span>
            </button>
            <button class="nav-item" data-page="cart">
                <span class="nav-icon">üõí</span>
                <span class="nav-label">–ö–æ—Ä–∑–∏–Ω–∞</span>
                <span class="nav-badge" id="cart-badge">0</span>
            </button>
            <button class="nav-item" data-page="favorites">
                <span class="nav-icon">‚ù§Ô∏è</span>
                <span class="nav-label">–ò–∑–±—Ä–∞–Ω–Ω–æ–µ</span>
                <span class="nav-badge" id="favorites-badge">0</span>
            </button>
            <button class="nav-item" data-page="profile">
                <span class="nav-icon">üë§</span>
                <span class="nav-label">–ü—Ä–æ—Ñ–∏–ª—å</span>
            </button>
        </nav>
    </div>

    <!-- Modals -->
    <!-- Product Modal -->
    <div id="product-modal" class="modal hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="modal-product-name">–¢–æ–≤–∞—Ä</h3>
                <button class="modal-close" onclick="closeModal('product-modal')">√ó</button>
            </div>
            <div class="modal-body" id="modal-product-content">
                <!-- Product modal content will be loaded here -->
            </div>
        </div>
    </div>

    <!-- Add Product Modal -->
    <div id="add-product-modal" class="modal hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h3>–î–æ–±–∞–≤–∏—Ç—å —Ç–æ–≤–∞—Ä</h3>
                <button class="modal-close" onclick="closeModal('add-product-modal')">√ó</button>
            </div>
            <div class="modal-body">
                <form id="add-product-form">
                    <div class="form-group">
                        <label class="form-label">–ù–∞–∑–≤–∞–Ω–∏–µ</label>
                        <input type="text" class="form-control" id="product-name" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label">–¶–µ–Ω–∞</label>
                        <input type="number" class="form-control" id="product-price" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label">–ö–∞—Ç–µ–≥–æ—Ä–∏—è</label>
                        <select class="form-control" id="product-category" required>
                            <option value="outerwear">–í–µ—Ä—Ö–Ω—è—è –æ–¥–µ–∂–¥–∞</option>
                            <option value="sneakers">–ö—Ä–æ—Å—Å–æ–≤–∫–∏</option>
                            <option value="pants">–ë—Ä—é–∫–∏</option>
                            <option value="shirts">–†—É–±–∞—à–∫–∏</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">–û–ø–∏—Å–∞–Ω–∏–µ</label>
                        <textarea class="form-control" id="product-description" rows="3" required></textarea>
                    </div>
                    <div class="form-group">
                        <label class="form-label">URL –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è</label>
                        <input type="url" class="form-control" id="product-image" required>
                    </div>
                    <div class="modal-actions">
                        <button type="button" class="btn btn--outline" onclick="closeModal('add-product-modal')">–û—Ç–º–µ–Ω–∞</button>
                        <button type="submit" class="btn btn--primary">–î–æ–±–∞–≤–∏—Ç—å</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Toast Notifications -->
    <div id="toast-container" class="toast-container"></div>

    <script src="app.js"></script>
</body>
</html>